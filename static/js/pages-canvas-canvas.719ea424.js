(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-canvas-canvas"],{"099d":function(e,t,a){var i=a("4997");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=a("967d").default;r("04724c14",i,!0,{sourceMap:!1,shadowMode:!1})},"0b75":function(e,t,a){"use strict";var i=a("099d"),r=a.n(i);r.a},1851:function(e,t,a){"use strict";var i=a("8bdb"),r=a("84d6"),n=a("1cb5");i({target:"Array",proto:!0},{fill:r}),n("fill")},2787:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"canvas-container"},[a("v-uni-canvas",{staticStyle:{width:"320px",height:"320px","background-color":"white"},attrs:{"canvas-id":"firstCanvas"},on:{error:function(t){arguments[0]=t=e.$handleEvent(t),e.canvasIdErrorCallback.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"dev-area"},[a("v-uni-view",{staticClass:"dev-cart"},[a("v-uni-view",[a("v-uni-view",{staticClass:"dev-name"},[e._v("判定结果")])],1),a("v-uni-view",{staticClass:"dev-data"},[e._v(e._s(e.PoseDetect))])],1)],1),a("v-uni-view",{staticClass:"data-container"},[a("v-uni-view",{staticClass:"data-title"},[e._v("Skeleton Data")]),a("v-uni-view",{staticClass:"data-list"},e._l(e.skeletonData,(function(t,i){return a("v-uni-view",{key:i,staticClass:"data-item"},[a("v-uni-text",{staticClass:"data-key"},[e._v(e._s(i)+":")]),a("v-uni-text",{staticClass:"data-value"},[e._v(e._s(e.formatCoordinate(t)))])],1)})),1)],1)],1)},r=[]},4997:function(e,t,a){var i=a("c86c");t=i(!1),t.push([e.i,".container[data-v-4c2aa72c]{display:flex;flex-direction:column;align-items:center;padding:10px;background-color:#f8f8f8}.canvas-container[data-v-4c2aa72c]{width:100%;display:flex;justify-content:center;margin-bottom:10px}.dev-area[data-v-4c2aa72c]{width:100%;display:flex;justify-content:center}.dev-cart[data-v-4c2aa72c]{height:100px; /* 调整高度 */width:320px;border-radius:30px;margin-top:15px; /* 调整上边距 */display:flex;flex-direction:column; /* 确保内容垂直居中 */justify-content:center;align-items:center;background-color:#fff;box-shadow:0 0 15px #ccc}.dev-name[data-v-4c2aa72c]{font-size:20px;text-align:center;color:#6d6d6d}.dev-data[data-v-4c2aa72c]{font-size:30px;color:#6d6d6d;text-align:center}.data-container[data-v-4c2aa72c]{width:100%;background-color:#fff;padding:15px;border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,.1)}.data-title[data-v-4c2aa72c]{font-size:24px;font-weight:700;margin-bottom:10px;text-align:center}.data-list[data-v-4c2aa72c]{display:flex;flex-wrap:wrap;justify-content:space-between;justify-content:center}.data-item[data-v-4c2aa72c]{width:80%;background-color:#f0f0f0;padding:10px;margin-bottom:10px;border-radius:4px;box-shadow:0 0 %?15?% #ccc}.data-key[data-v-4c2aa72c]{font-weight:700;color:#333}.data-value[data-v-4c2aa72c]{color:#666;margin-top:5px}",""]),e.exports=t},"761b":function(e,t,a){"use strict";a.r(t);var i=a("2787"),r=a("944b");for(var n in r)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(n);a("0b75");var l=a("828b"),o=Object(l["a"])(r["default"],i["b"],i["c"],!1,null,"4c2aa72c",null,!1,i["a"],void 0);t["default"]=o.exports},"944b":function(e,t,a){"use strict";a.r(t);var i=a("f9c0"),r=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=r.a},f9c0:function(e,t,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("5de6"));a("bf0f"),a("2797"),a("dc8a"),a("1851"),a("c223");var n=a("28c1"),l={data:function(){return{token:"",nose:[],left_eye:[],right_eye:[],left_ear:[],right_ear:[],left_shoulder:[],right_shoulder:[],left_elbow:[],right_elbow:[],left_wrist:[],right_wrist:[],left_hip:[],right_hip:[],left_knee:[],right_knee:[],left_ankle:[],right_ankle:[],intervalId:null,PoseDetect:""}},computed:{skeletonData:function(){return{nose:this.nose,left_eye:this.left_eye,right_eye:this.right_eye,left_ear:this.left_ear,right_ear:this.right_ear,left_shoulder:this.left_shoulder,right_shoulder:this.right_shoulder,left_elbow:this.left_elbow,right_elbow:this.right_elbow,left_wrist:this.left_wrist,right_wrist:this.right_wrist,left_hip:this.left_hip,right_hip:this.right_hip,left_knee:this.left_knee,right_knee:this.right_knee,left_ankle:this.left_ankle,right_ankle:this.right_ankle}}},onLoad:function(e){this.boneConnections=[["nose","left_eye"],["nose","right_eye"],["left_eye","left_ear"],["right_eye","right_ear"],["left_shoulder","right_shoulder"],["left_shoulder","left_elbow"],["left_elbow","left_wrist"],["right_shoulder","right_elbow"],["right_elbow","right_wrist"],["left_shoulder","left_hip"],["right_shoulder","right_hip"],["left_hip","right_hip"],["left_hip","left_knee"],["left_knee","left_ankle"],["right_hip","right_knee"],["right_knee","right_ankle"]],this.token=(0,n.createCommonToken)({author_key:"yj0RL9+/7iRMlNyi3yO8hl1gL5dwcWAwf8Cac61MNRtHrAs+MnW66VUHLJS9Ibh4IY75cOHnF9MFFNSHOi21vQ==",version:"2022-05-01",user_id:"289083"})},onShow:function(){var e=this;this.getPosedata(),this.intervalId=setInterval((function(){e.getPosedata()}),100)},onUnload:function(){clearInterval(this.intervalId)},methods:{getPosedata:function(){var e=this;uni.request({url:"https://iot-api.heclouds.com/thingmodel/query-device-property",method:"GET",data:{product_id:"0u1ugwAC18",device_name:"test"},header:{authorization:this.token},success:function(t){if(t.data&&t.data.data){var a=t.data.data;a.forEach((function(t){"nose"===t.identifier?e.nose=JSON.parse(t.value):"left_eye"===t.identifier?e.left_eye=JSON.parse(t.value):"right_eye"===t.identifier?e.right_eye=JSON.parse(t.value):"left_ear"===t.identifier?e.left_ear=JSON.parse(t.value):"right_ear"===t.identifier?e.right_ear=JSON.parse(t.value):"left_shoulder"===t.identifier?e.left_shoulder=JSON.parse(t.value):"right_shoulder"===t.identifier?e.right_shoulder=JSON.parse(t.value):"left_elbow"===t.identifier?e.left_elbow=JSON.parse(t.value):"right_elbow"===t.identifier?e.right_elbow=JSON.parse(t.value):"left_wrist"===t.identifier?e.left_wrist=JSON.parse(t.value):"right_wrist"===t.identifier?e.right_wrist=JSON.parse(t.value):"left_hip"===t.identifier?e.left_hip=JSON.parse(t.value):"right_hip"===t.identifier?e.right_hip=JSON.parse(t.value):"left_knee"===t.identifier?e.left_knee=JSON.parse(t.value):"right_knee"===t.identifier?e.right_knee=JSON.parse(t.value):"left_ankle"===t.identifier?e.left_ankle=JSON.parse(t.value):"right_ankle"===t.identifier?e.right_ankle=JSON.parse(t.value):"led"===t.identifier&&("true"===t.value?e.PoseDetect="standard":e.PoseDetect="not standard")}))}e.drawCanvas()}})},drawCanvas:function(){var e=this,t=uni.createCanvasContext("firstCanvas");t.clearRect(0,0,320,320),t.setFillStyle("#FFFFFF"),t.fillRect(0,0,320,320),t.setStrokeStyle("#000000"),t.strokeRect(0,0,320,320),t.setFillStyle("#000000"),t.setStrokeStyle("#FF0000"),t.setLineWidth(2),this.boneConnections.forEach((function(a){var i=(0,r.default)(a,2),n=i[0],l=i[1],o=e.skeletonData[n],s=e.skeletonData[l];if(o&&s&&3===o.length&&3===s.length){var d=(0,r.default)(o,3),c=d[0],f=d[1],h=d[2],u=(0,r.default)(s,3),_=u[0],v=u[1],g=u[2];h>0&&g>0&&(t.beginPath(),t.moveTo(c,f),t.lineTo(_,v),t.stroke())}})),Object.keys(this.skeletonData).forEach((function(a){var i=e.skeletonData[a];if(i&&3===i.length){var n=(0,r.default)(i,3),l=n[0],o=n[1],s=n[2];s>0&&(t.beginPath(),t.arc(l,o,5,0,2*Math.PI),t.fill())}})),t.draw()},formatCoordinate:function(e){return e&&3===e.length?"(".concat(e[0].toFixed(2),", ").concat(e[1].toFixed(2),", ").concat(e[2].toFixed(2),")"):"N/A"},canvasIdErrorCallback:function(e){console.error(e.detail.errMsg)}}};t.default=l}}]);